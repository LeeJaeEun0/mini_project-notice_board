<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div><h2>비밀번호 확인</h2></div>
<div><table border=1>
    <tr>
        <th>항목</th>
        <th colspan="3">내용</th>
    </tr>
    <tr>
        <td>비밀번호</td>
        <td><input type="password" maxlength="4"></td>
    </tr>
</table></div>
<br>
<div>
    <button onclick="location.href='/v1/posts'">취소</button>

    <script th:inline="javascript">
        window.onload = function() {
            const number = [[${number}]]
            if (number == 1){
                document.getElementById('update').style.display = 'block';
                document.getElementById('delete').style.display = 'none';
            }else if (number == 2) {
                document.getElementById('update').style.display = 'none';
                document.getElementById('delete').style.display = 'block';
            } else {
                // 예외 처리: 1 또는 2가 아닌 경우, 두 버튼을 모두 숨깁니다.
                document.getElementById('update').style.display = 'none';
                document.getElementById('delete').style.display = 'none';
            }
        };


        function updatePost(postNumber) {
            // postNumber를 사용하여 '수정' API 호출
            fetch(`/v1/posts/${postNumber}`, {
                method: 'PUT', // PUT 요청을 보내거나 원하는 HTTP 메서드 사용
                // 필요한 헤더와 데이터 설정
            })
                .then(response => {
                    if (response.ok) {
                        // 성공한 경우 처리
                        console.log('수정 API 호출 성공');
                    } else {
                        // 실패한 경우 처리
                        console.error('수정 API 호출 실패');
                    }
                })
                .catch(error => {
                    // 오류 처리
                    console.error('API 호출 중 오류 발생', error);
                });
        }

        function deletePost(postNumber) {
            // postNumber를 사용하여 '삭제' API 호출
            fetch(`/v1/posts/${postNumber}`, {
                method: 'DELETE', // DELETE 요청을 보내거나 원하는 HTTP 메서드 사용
                // 필요한 헤더와 데이터 설정
            })
                .then(response => {
                    if (response.ok) {
                        // 성공한 경우 처리
                        console.log('삭제 API 호출 성공');
                    } else {
                        // 실패한 경우 처리
                        console.error('삭제 API 호출 실패');
                    }
                })
                .catch(error => {
                    // 오류 처리
                    console.error('API 호출 중 오류 발생', error);
                });
        }
    </script>
    <button id="update" onclick="updatePost(/*[[${number}]]*/)">수정</button>
    <button id="delete" onclick="deletePost(/*[[${number}]]*/)">삭제</button>
</div>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script>
        document.getElementById("deleteButton").addEventListener("click", function () {
            var password = document.getElementById("password").value;
            var postDto = {
                password: password
            };

            fetch("/v1/posts/"+ [[${number}]], {
                method: "DELETE",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify(postDto)
            })
                .then(function (response) {
                    if (response.ok) {
                        // 성공한 경우 처리
                        console.log("삭제 API 호출 성공");
                        // 리다이렉트 또는 다른 동작을 수행하세요.
                    } else {
                        // 실패한 경우 처리
                        console.error("삭제 API 호출 실패");
                    }
                })
                .catch(function (error) {
                    // 오류 처리
                    console.error("API 호출 중 오류 발생", error);
                });
        });
    </script>
</head>
<body>
<div><h2>비밀번호 확인</h2></div>
<div>
    <form id="deleteForm" th:object="${postDto}" th:action="@{/v1/posts}" method="post">

    <table border=1>

    <tr>
        <th>항목</th>
        <th colspan="3">내용</th>
    </tr>
    <tr>
        <td>비밀번호</td>
        <td><input type="password" maxlength="4"></td>
    </tr>
</table>
        <br>
        <div>
            <button onclick="location.href='/v1/posts'">취소</button>
            <button id="deleteButton">삭제</button>
        </div>
    </form>
</div>

</body>
</html>